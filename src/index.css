@tailwind base;
@tailwind components;
@tailwind utilities;


@layer base {
  :root {
    color-scheme: light;
    
    --bg-base: #ffffff;
    --bg-surface: #f8f9fc;
    --bg-raised: #f1f3f8;
    --bg-overlay: #e8ebf2;
    
    --border-subtle: #00000008;
    --border-base: #e2e5eb;
    --border-strong: #c9cdd6;
    
    --accent: #10b981;
    --accent-dim: #10b98120;
    --accent-hover: #059669;
    
    --text-primary: #1a1a2e;
    --text-secondary: #5c5c72;
    --text-muted: #9ca3af;
    
    --shadow-sm: 0 1px 2px 0 rgba(0, 0, 0, 0.05);
    --shadow-md: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
    --shadow-lg: 0 10px 15px -3px rgba(0, 0, 0, 0.1);
  }

  .dark {
    color-scheme: dark;
    
    --bg-base: #0a0a0f;
    --bg-surface: #111118;
    --bg-raised: #1a1a24;
    --bg-overlay: #22222e;
    
    --border-subtle: #ffffff08;
    --border-base: #ffffff12;
    --border-strong: #ffffff20;
    
    --accent: #6ee7b7;
    --accent-dim: #6ee7b730;
    --accent-hover: #a7f3d0;
    
    --text-primary: #f0f0f8;
    --text-secondary: #9090a8;
    --text-muted: #505060;
    
    --shadow-sm: 0 1px 2px 0 rgba(0, 0, 0, 0.3);
    --shadow-md: 0 4px 6px -1px rgba(0, 0, 0, 0.4);
    --shadow-lg: 0 10px 15px -3px rgba(0, 0, 0, 0.5);
  }

  * {
    @apply border-border-base;
    transition-property: background-color, border-color, color, fill, stroke, box-shadow;
    transition-timing-function: cubic-bezier(0.4, 0, 0.2, 1);
    transition-duration: 150ms;
  }

  html {
    @apply bg-bg-base text-text-primary;
    font-feature-settings: 'cv11', 'ss01', 'ss03';
    -webkit-font-smoothing: antialiased;
  }

  html.theme-transitioning * {
    transition-duration: 0ms !important;
  }

  ::-webkit-scrollbar {
    width: 6px;
    height: 6px;
  }
  ::-webkit-scrollbar-track { background: transparent; }
  ::-webkit-scrollbar-thumb {
    @apply bg-border-strong rounded-full;
  }
  ::-webkit-scrollbar-thumb:hover {
    @apply bg-text-muted;
  }

  ::selection {
    background: var(--accent-dim);
    color: var(--accent);
  }

  .dark ::selection {
    background: #6ee7b730;
    color: #6ee7b7;
  }

  :root:not(.dark) ::selection {
    background: #10b98120;
    color: #10b981;
  }
}

@layer components {
  .tool-input {
    @apply w-full bg-bg-surface border border-border-base rounded-lg px-4 py-3
           font-mono text-sm text-text-primary placeholder-text-muted
           focus:outline-none focus:border-accent focus:ring-1 focus:ring-accent
           transition-all duration-150 resize-none;
  }

  .btn-primary {
    @apply inline-flex items-center gap-2 px-4 py-2 rounded-lg
           bg-accent text-bg-base font-medium text-sm
           hover:bg-accent-hover transition-all duration-150
           focus:outline-none focus:ring-2 focus:ring-accent
           active:scale-95 disabled:opacity-50 disabled:cursor-not-allowed;
  }

  .btn-secondary {
    @apply inline-flex items-center gap-2 px-4 py-2 rounded-lg
           bg-bg-raised text-text-primary font-medium text-sm
           hover:bg-bg-overlay border border-border-base
           transition-all duration-150
           focus:outline-none focus:ring-2 focus:ring-border-strong;
  }

  .btn-ghost {
    @apply inline-flex items-center gap-2 px-3 py-2 rounded-lg
           text-text-secondary hover:text-text-primary hover:bg-bg-raised
           transition-all duration-150 text-sm font-medium
           focus:outline-none focus:ring-2 focus:ring-border-strong;
  }

  .btn-group {
    @apply flex items-center gap-1 bg-bg-raised rounded-lg p-1;
  }

  .btn-group-item {
    @apply px-3 py-1.5 rounded-md text-xs font-medium transition-colors
           text-text-muted hover:text-text-primary;
  }

  .btn-group-item-active {
    @apply bg-accent text-bg-base;
  }

  .card {
    @apply bg-bg-surface border border-border-base rounded-xl
           hover:border-border-strong transition-colors duration-150;
  }

  .badge {
    @apply inline-flex items-center px-2 py-0.5 rounded-md text-xs font-medium
           text-accent border;
    background-color: var(--accent-dim);
    border-color: var(--accent);
    border-opacity: 0.2;
  }

  .theme-toggle-btn {
    @apply relative w-10 h-10 rounded-lg flex items-center justify-center
           text-text-secondary hover:text-text-primary hover:bg-bg-raised
           focus:outline-none focus:ring-2
           transition-all duration-200;
  }

  .theme-toggle-btn:focus-visible {
    @apply ring-2 ring-offset-2;
    --tw-ring-color: var(--accent);
    --tw-ring-offset-color: var(--bg-base);
  }

  .tool-section {
    @apply flex flex-col gap-2;
  }

  .tool-label {
    @apply text-xs font-medium text-text-muted uppercase tracking-wider;
  }

  .tool-stats {
    @apply text-xs text-text-muted;
  }

  .tool-error {
    @apply bg-rose-500/10 border border-rose-500/30 rounded-lg p-4 text-rose-400 text-sm;
  }

  .tool-editor {
    @apply grid grid-cols-1 lg:grid-cols-2 gap-4 h-[calc(100vh-16rem)];
  }
}

@layer utilities {
  .theme-transition {
    transition-property: background-color, border-color, color, fill, stroke, box-shadow;
    transition-timing-function: cubic-bezier(0.4, 0, 0.2, 1);
    transition-duration: 200ms;
  }

  .no-theme-transition {
    transition: none !important;
  }

  .shadow-theme-sm {
    box-shadow: var(--shadow-sm);
  }

  .shadow-theme-md {
    box-shadow: var(--shadow-md);
  }

  .shadow-theme-lg {
    box-shadow: var(--shadow-lg);
  }
}
